function generateMenu(){for(var f,u,r,e,i=$('*[id^="main_"]').map(function(){return this.id}).get(),n="<ul>",t=0;t<i.length;t++)if(f=$("#"+i[t]+" h1").first().text(),n+="<li><a onclick='func("+t+")' id='nav_"+t+"' data-scroll ",t===0&&(n+="class='' "),n+="href='#"+i[t]+"'>"+f+"<\/a>",$("#"+i[t]).find("h2")){for(n+="<ul style='display:none'>",u=$("#"+i[t]+' > *[id^="sub_"]').map(function(){return this.id}).get(),r=0;r<u.length;r++)e=$("#"+u[r]+" h2").first().text(),n+="<li><a data-scroll href='#"+u[r]+"'>"+e+"<\/a><\/li>";n+="<\/ul><\/li>"}else n+="<\/li>";n+="<\/ul>";$("#autoMenu").html(n)}function func(n){for(var i=$('*[id^="nav_"]').map(function(){return this.id}).get(),t=0;t<i.length;t++)$("#nav_"+t).removeClass("active"),$("#nav_"+t+" + ul").hide();$("#nav_"+n+" + ul").toggle();$("#nav_"+n).addClass("active")}